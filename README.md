# 关于vuex的那些事
## 什么是vuex
### 先来个官方的
- vuex是一个专为vue.js应用程序开发的**状态管理模式**。它采用集中式存储管理应用的所有组件的状态，并以相应的规则保证状态以一种可预测的方式发生变化（王记：重点词【状态管理模式】【集中式】【所有组件状态】【状态】【变化】）

- 那什么是状态管理模式呢？
1. 官网例子（一个vue的计数应用）
```
new Vue({
  // state 数据源也就是数据存放的地方
  data () {
    return {
      count: 0
    }
  },
  // view 将state的数据展现的地方也就是所谓的展现层
  template: `
    <div>{{ count }}</div>
  `,
  // actions 响应在view层上做的一些事件导致状态变化
  methods: {
    increment () {
      this.count++
    }
  }
})
```
带出了简单的单向数据流的概念（王记：听着是不是很nb哈哈,其实很简单）
![王记借图单项数据流图](https://vuex.vuejs.org/flow.png)

- 不知道大家是否理解上面这个图（每一次用户通过触发事件[Actions]-来改变数据源的数据[state]-使得view层的表现改变[view])这样懂了吗？

> 问题：
>> 当我们的应用遇到多个组件共享状态时，单向数据流的简洁性很容易被破坏：
>>1. 多个视图依赖于同一状态。
>>2. 来自不同视图的行为需要变更同一状态。


> 脑袋一热的解决方式：
>>对于问题一，传参的方法对于多层嵌套的组件将会非常繁琐，并且对于兄弟组件间的状态传递无能为力。
>> 
>> 对于问题二，我们经常会采用父子组件直接引用或者通过事件来变更和同步状态的多份拷贝。
>>
>>以上的这些模式非常脆弱，通常会导致无法维护的代码。

因此，我们为什么不把组件的共享状态抽取出来，以一个全局单例模式管理呢？在这种模式下，我们的组件树构成了一个巨大的“视图”，不管在树的哪个位置，任何组件都能获取状态或者触发行为！
通过定义和隔离状态管理中的各种概念并通过强制规则维持视图和状态间的独立性，我们的代码将会变得更结构化且易维护。
- (来自王记的吐槽：这不就是想抽离公共方法的思维吗？定义一个全局可访问的变量？定义规则修改状态？我想大家都知道了这个vuex是个干啥的了吧)




